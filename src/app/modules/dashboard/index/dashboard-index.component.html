<app-dashboard>

    <!-- <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <app-currency-stats [currency]="SystemCurrency.xof" label= "West African CFA franc">
            <div currency_icon>
                <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[#D9ADB9]">
                    <p class="text-sm font-bold leading-6 text-gray-900 ">XOF</p>
                </div>
            </div>
        </app-currency-stats>
        <app-currency-stats [currency]="SystemCurrency.xaf" label= "Central African CFA franc">
            <div currency_icon>
                <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[#656F8C]">
                    <p class="text-sm font-bold leading-6 text-gray-900 ">XAF</p>
                </div>
            </div>
        </app-currency-stats>
        <app-currency-stats [currency]="SystemCurrency.gnf" label= "Guinean franc">
            <div currency_icon>
                <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[#D96A88]">
                    <p class="text-sm font-bold leading-6 text-gray-900 ">GNF</p>
                </div>
            </div>
        </app-currency-stats>
    </div> -->

    <app-system-metric></app-system-metric>

    <div class="bg-gray-900">
        <div class="mx-auto max-w-7xl">
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-px bg-white/5">
            <div class="bg-gray-900 px-4 py-6 sm:px-6 lg:px-8">
              <p class="text-sm font-medium leading-6 text-gray-400">{{'Lender Count'|translate}}</p>
              <p class="mt-2 flex items-baseline gap-x-2">
                <span class="text-4xl font-semibold tracking-tight text-white"
                    *ngIf="metrics$ | async as metricResponse; else textLoader">{{ metricResponse?.data?.lenderCount }}
                </span>
              </p>
            </div>
            <div class="bg-gray-900 px-4 py-6 sm:px-6 lg:px-8">
              <p class="text-sm font-medium leading-6 text-gray-400">{{'Aggregator Count'|translate}}</p>
              <p class="mt-2 flex items-baseline gap-x-2">
                <span class="text-4xl font-semibold tracking-tight text-white"
                    *ngIf="metrics$ | async as metricResponse; else textLoader">{{ metricResponse?.data?.aggregatorCount }}
                </span>
              </p>
            </div>
            <div class="bg-gray-900 px-4 py-6 sm:px-6 lg:px-8">
              <p class="text-sm font-medium leading-6 text-gray-400" >{{'Wholesaler Count'|translate}}</p>
              <span class="text-4xl font-semibold tracking-tight text-white"
                    *ngIf="metrics$ | async as metricResponse; else textLoader">{{ metricResponse?.data?.wholesalerCount }}
                </span>
            </div>
            <div class="bg-gray-900 px-4 py-6 sm:px-6 lg:px-8">
              <p class="text-sm font-medium leading-6 text-gray-400">{{'Customer Count'|translate}}</p>
              <span class="text-4xl font-semibold tracking-tight text-white"
                    *ngIf="metrics$ | async as metricResponse; else textLoader">{{ metricResponse?.data?.agentCount }}
                </span>
            </div>
          </div>
        </div>
      </div>
    <div class="rounded-lg mt-5">
        <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
            <div class="col-span-2 py-5 bg-white px-3 border border-gray-50 rounded-md shadow">
                <app-credit-refund-summary/>
            </div>
            <div class="sm:col-span-1 py-5 bg-white px-3 border border-gray-50 rounded-md shadow">
                <app-credit-count-chart/>
            </div>
            <div class="sm:col-span-1 py-5 bg-white px-3 border border-gray-50 rounded-md shadow">
                <app-credit-flux-chart/>
            </div>
            <div class="sm:col-span-1 py-5 bg-white px-3 border border-gray-50 rounded-md shadow">
                <app-credit-count-by-aggregator/>
            </div>
            <div class="sm:col-span-1 py-5 bg-white px-3 border border-gray-50 rounded-md shadow">
                <app-credit-flux-by-aggregator/>
            </div>
        </div>
    </div>

</app-dashboard>

<ng-template #textLoader>
    <div class="max-w-sm animate-pulse grid justify-items-stretch" role="status">
        <div class="h-3 bg-gray-200 rounded-full dark:bg-gray-700 w-20 mb-2.5 justify-self-end"></div>
    </div>
</ng-template>
<ng-template #graphLoader>
    <app-chart-loader></app-chart-loader>
</ng-template>
